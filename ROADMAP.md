# AntIdle - 開發路線圖

## 📋 專案概覽

**專案名稱：** AntIdle (螞蟻放置遊戲)  
**技術棧：** HTML5 + CSS3 + 原生 JavaScript (ES6+)  
**部署：** GitHub Pages  
**建立日期：** 2026-02-12

---

## 🎯 開發階段

### 階段一：核心玩法擴展 ✅ (已完成)
**目標：** 建立完整的遊戲循環基礎

- [x] 擴展資源系統
  - [x] 新增資源類型：葉子🍃、水滴💧、幼蟲🥚、昆蟲🍪
  - [x] 定義資源初始值和精度

- [x] 工蟻購買系統
  - [x] 實現 `buyWorker()` 函數
  - [x] 價格公式：price = base * (1.2 ^ count)
  - [x] 基礎價格：10 食物
  - [x] 價格增長：每次購買 +20%

- [x] 改進收集機制
  - [x] 修改 `collectFood()` → `collectLeaf()`
  - [x] 點擊「收集」獲得葉子
  - [x] 工蟻自動將葉子轉換為食物

- [x] 更新 UI
  - [x] 顯示所有資源
  - [x] 新增「購買工蟻」按鈕
  - [x] 顯示工蟻當前價格

- [x] 部署到 GitHub Pages
  - [x] 初始化 Git
  - [x] 推送到 GitHub
  - [x] 啟用 GitHub Pages

**交付物：**
- 可玩的遊戲循環：點擊收集 → 購買工蟻 → 自動生產
- GitHub Pages 上線

---

### 階段二：螞蟻類型系統 ✅ (已完成)
**目標：** 增加螞蟻社會階層

- [x] 兵蟻系統 ⚔️
  - [x] 用幼蟲孵化兵蟻
  - [x] 隨機入侵事件（外來昆蟲）
  - [x] 兵蟻防禦機制
  - [x] 防禦成功獎勵

- [x] 護理蟻系統 👶
  - [x] 照顧幼蟲，提高孵化速度
  - [x] 維護蟻后健康
  - [x] 護理蟻購買功能

- [x] 蟻后系統 👑
  - [x] 定期產卵（獲得幼蟲）
  - [x] 提高所有螞蟻生產效率
  - [x] 蟻后健康系統

**交付物：**
- 三種螞蟻類型（兵蟻、護理蟻、蟻后）
- 隨機入侵事件
- 複雜的螞蟻社會互動

---

### 階段三：蟻巢房間系統 🏠 ✅ (已完成)
**目標：** 建設和升級地下設施

- [x] 儲藏室
  - [x] 增加食物儲存上限
  - [x] 房間等級系統
  - [ ] 解鎖更高級資源（未實作）

- [x] 育兒室
  - [x] 加速幼蟲孵化
  - [x] 孵化速度公式
  - [ ] 提高幼蟲存活率（未實作）

- [x] 真菌農場 🍄
  - [x] 用水滴種植真菌
  - [x] 真菌產出高級食物
  - [x] 農場擴容機制

- [ ] 房間可視化（未實作）
  - [ ] 蟻巢剖面圖顯示
  - [ ] 房間升級動畫
  - [ ] 螞蟻在房間間移動

**交付物：**
- 三種可升級房間 ✅
- 房間互動機制 ✅
- 視覺化的蟻巢系統（待優化）

---

### 階段四：事件和成就系統 ✅ (已完成)
**目標：** 增加長期動力

- [x] 隨機天氣事件
  - [x] 🌧️ 雨：水滴增加，葉子減少
  - [x] ☀️ 陽光：葉子增加，食物消耗增加
  - [x] 🌪️ 暴風：資源損失風險

- [x] 入侵事件系統
  - [x] 隨機外來昆蟲入侵
  - [x] 兵蟻防禦判定
  - [x] 戰鬥結果計算

- [x] 成就系統
  - [x] 21 個成就（幼蟲、工蟻、兵蟻、護理蟻、蟻后、食物、房間、時間、入侵）
  - [x] 成就自動檢測
  - [x] 成就解鎖通知
  - [x] 成就頁面 UI

- [ ] 賽季/活動（可選，未實作）

**交付物：**
- 多種隨機事件 ✅
- 完整成就系統 ✅
- 長期遊玩動力 ✅

---

### 階段五：視覺和體驗優化 ✨ ✅ (已完成)
**目標：** 提升遊戲視覺和音效

- [x] 螞蟻動畫
  - [x] CSS 動畫模擬螞蟻移動
  - [x] 不同螞蟻類型視覺差異（工蟻搬葉子、兵蟻帶劍）
  - [ ] 螞蟻工作動作（未實作）

- [x] 粒子效果
  - [x] 資源收集特效
  - [x] 購買成功特效
  - [x] 升級特效

- [ ] 音效系統（未實作）
  - [ ] 點擊音效
  - [ ] 資源獲得音效
  - [ ] 購買音效
  - [ ] 事件觸發音效
  - [ ] 可選背景音樂

- [x] UI 優化
  - [x] 深色/淺色主題切換
  - [ ] 響應式設計優化（部分完成）
  - [x] 動畫過渡效果
  - [x] 按鈕波紋效果
  - [ ] 工具提示（未實作）

**交付物：**
- 豐富的視覺效果 ✅
- 優秀的 UI/UX ✅
- 完整音效系統（待開發）

---

### 階段六：進階功能 🚀 (可選)
**目標：** 高階玩法和社交功能

- [ ] 科學研究系統
  - [ ] 研究點數
  - [ ] 技術樹
  - [ ] 解鎖新功能

- [ ] 重生系統
  - [ ] 蜕變重置
  - [ ] 永久加成
  - [ ] 累積積分

- [ ] 多語言支援
  - [ ] 繁體中文
  - [ ] 英文
  - [ ] 日文

- [ ] 雲端存檔
  - [ ] Firebase 雲端儲存
  - [ ] 多設備同步
  - [ ] 存檔匯入/匯出

- [ ] 數據統計
  - [ ] 玩家統計面板
  - [ ] 歷史記錄
  - [ ] 效率分析

**交付物：**
- 進階玩法系統
- 雲端同步
- 多語言支援

---

## 🛠️ 技術債和優化

### 待處理技術債
- [ ] 程式碼模組化重構
- [ ] 加入 TypeScript 類型檢查
- [ ] 單元測試覆蓋
- [ ] 效能優化（大量螞蟻時的渲染）

### 效能優化
- [ ] 减少 DOM 操作頻率
- [ ] 使用 RequestAnimationFrame 代替 setInterval
- [ ] 資源懶載入
- [ ] 離線緩存策略

---

## 📅 時間估算

| 階段 | 預估時間 | 優先級 | 狀態 |
|------|----------|--------|------|
| 階段一 | 1-2 天 | 🔥 最高 | ✅ 已完成 |
| 階段二 | 2-3 天 | ⭐ 高 | ✅ 已完成 |
| 階段三 | 3-5 天 | ⭐ 高 | ✅ 已完成 |
| 階段四 | 2-3 天 | 📊 中 | ✅ 已完成 |
| 階段五 | 3-5 天 | 📊 中 | ✅ 已完成 |
| 階段六 | 5-7 天 | 💡 可選 | 🚧 待開發 |

---

## 🎮 遊戲平衡參考

### 數值公式
- **工蟻價格：** `base * (1.2 ^ count)`
- **生產速率：** `worker * efficiency * multiplier`
- **資源轉換：** `1 leaf → 1 food` (可調整)

### 進度曲線
- 前 10 分鐘：熟悉基本操作
- 前 1 小時：購買多隻工蟻，建立自動生產
- 前 1 天：解鎖兵蟻，應對入侵事件
- 前 1 週：升級所有房間，達到穩定循環

---

## 📚 參考資源

### 學習資源
- [Machinations.io - 遊戲設計指南](https://machinations.io/)
- [放置遊戲設計原則](https://www.gamedeveloper.com/design/designing-idle-games)

### 技術文檔
- [Phaser.js 文檔](https://photonstorm.github.io/phaser3-docs/)
- [Canvas API 文檔](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [LocalStorage 最佳實踐](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)

### 類似遊戲參考
- Idle Ants (CrazyGames)
- Idle Ant Farm (Reddit)
- Universal Paperclips (放置遊戲設計經典案例)

---

## 🔗 相關連結

- **GitHub 仓库：** https://github.com/awesomejerryshen/antidle
- **GitHub Pages：** https://awesomejerryshen.github.io/antidle/
- **研究報告：** `RESEARCH_REPORT.md`
- **開發指南：** `DEVELOPMENT.md`

---

## 📝 變更日誌

- **2026-02-15：** 階段五完成 - 視覺和體驗優化（螞蟻動畫、粒子特效、深色模式）
- **2026-02-15：** 更新階段一、三為已完成，更新時間估算表和相關連結
- **2026-02-12：** 建立 roadmap，定義開發階段

---

**維護者：** OpenClaw Agent  
**最後更新：** 2026-02-15
